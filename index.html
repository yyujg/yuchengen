<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æˆ‘çš„å¸…å“¥ç…§ç‰‡é£˜è½æ•ˆæœ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            overflow: hidden;
            touch-action: manipulation;
            background: linear-gradient(to bottom, #ff9a9e 0%, #fad0c4 100%);
            height: 100vh;
            width: 100vw;
            position: fixed;
            font-family: Arial, sans-serif;
        }
        
        .photo {
            position: absolute;
            width: 80px;
            height: 80px;
            border-radius: 12px;
            object-fit: cover;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
            user-select: none;
            pointer-events: none;
            animation: fall linear infinite, sway ease-in-out infinite alternate;
            will-change: transform;
            opacity: 0.9;
            border: 2px solid white;
        }
        
        @keyframes fall {
            to {
                transform: translateY(100vh);
            }
        }
        
        @keyframes sway {
            to {
                transform: translateX(var(--sway-distance));
            }
        }
        
        @keyframes rotate {
            0%, 100% {
                transform: rotate(-8deg);
            }
            50% {
                transform: rotate(8deg);
            }
        }
        
        .instructions {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            z-index: 100;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body>
    <div class="instructions">
        <h3>ğŸ“¸ å¸…å“¥ç…§ç‰‡é£˜è½æ•ˆæœ</h3>
        <p>ç‚¹å‡»å±å¹•æ·»åŠ æ›´å¤šç…§ç‰‡ï¼</p>
    </div>

    <script>
        // ä½¿ç”¨æœ¬åœ°å›¾ç‰‡è·¯å¾„ - ä¿®æ”¹ä¸ºä½ å®é™…çš„å›¾ç‰‡æ–‡ä»¶å
        const photoUrls = [
            'images/photo1.jpg',
            'images/photo2.jpg', 
            'images/photo3.jpg',
            'images/photo4.jpg',
            'images/photo5.jpg'
        ];

        // é…ç½®å‚æ•°
        const config = {
            photoCount: Math.min(window.innerWidth < 768 ? 8 : 12, photoUrls.length),
            minSize: 70,
            maxSize: 110,
            minSpeed: 8,
            maxSpeed: 18,
            swayRange: 60
        };

        // é¢„åŠ è½½å›¾ç‰‡
        function preloadImages() {
            photoUrls.forEach(url => {
                const img = new Image();
                img.src = url;
            });
        }

        // åˆ›å»ºç…§ç‰‡
        function createPhotos() {
            for (let i = 0; i < config.photoCount; i++) {
                setTimeout(() => createPhoto(), i * 400);
            }
        }

        // åˆ›å»ºå•ä¸ªç…§ç‰‡
        function createPhoto() {
            const photo = document.createElement('img');
            photo.className = 'photo';
            
            // éšæœºé€‰æ‹©ç…§ç‰‡
            const randomIndex = Math.floor(Math.random() * photoUrls.length);
            photo.src = photoUrls[randomIndex];
            photo.alt = 'å¸…å“¥ç…§ç‰‡';
            
            // éšæœºå¤§å°
            const size = Math.random() * (config.maxSize - config.minSize) + config.minSize;
            photo.style.width = `${size}px`;
            photo.style.height = `${size}px`;
            
            // éšæœºé€æ˜åº¦
            const opacity = Math.random() * 0.6 + 0.4;
            photo.style.opacity = opacity;
            
            // éšæœºèµ·å§‹ä½ç½®
            const startX = Math.random() * window.innerWidth;
            photo.style.left = `${startX}px`;
            photo.style.top = '-120px';
            
            // éšæœºä¸‹è½é€Ÿåº¦
            const duration = Math.random() * (config.maxSpeed - config.minSpeed) + config.minSpeed;
            photo.style.animationDuration = `${duration}s, ${duration * 0.6}s`;
            
            // éšæœºæ‘†åŠ¨å¹…åº¦
            const sway = Math.random() * config.swayRange * 2 - config.swayRange;
            photo.style.setProperty('--sway-distance', `${sway}px`);
            
            // éšæœºæ—‹è½¬æ•ˆæœ
            if (Math.random() > 0.6) {
                photo.style.animation += `, rotate ${duration * 0.4}s ease-in-out infinite`;
            }
            
            document.body.appendChild(photo);
            
            // ç…§ç‰‡è½åœ°åé‡æ–°å¼€å§‹
            photo.addEventListener('animationiteration', (e) => {
                if (e.animationName === 'fall') {
                    photo.style.left = `${Math.random() * window.innerWidth}px`;
                    photo.style.top = '-120px';
                    photo.src = photoUrls[Math.floor(Math.random() * photoUrls.length)];
                }
            });
        }

        // æ·»åŠ ç‚¹å‡»äº‹ä»¶
        function addClickHandler() {
            document.addEventListener('click', (e) => {
                for (let i = 0; i < 3; i++) {
                    setTimeout(() => {
                        const photo = document.createElement('img');
                        photo.className = 'photo';
                        photo.src = photoUrls[Math.floor(Math.random() * photoUrls.length)];
                        
                        const size = Math.random() * (config.maxSize - config.minSize) + config.minSize;
                        photo.style.width = `${size}px`;
                        photo.style.height = `${size}px`;
                        
                        photo.style.left = `${e.clientX + (Math.random() * 80 - 40)}px`;
                        photo.style.top = `${e.clientY + (Math.random() * 80 - 40)}px`;
                        
                        const duration = Math.random() * 5 + 4;
                        photo.style.animationDuration = `${duration}s, ${duration * 0.6}s`;
                        
                        const sway = Math.random() * config.swayRange * 2 - config.swayRange;
                        photo.style.setProperty('--sway-distance', `${sway}px`);
                        
                        document.body.appendChild(photo);
                        
                        // 5ç§’åç§»é™¤ç‚¹å‡»åˆ›å»ºçš„ç…§ç‰‡
                        setTimeout(() => photo.remove(), 5000);
                    }, i * 150);
                }
            });
        }

        // å¤„ç†çª—å£å¤§å°å˜åŒ–
        function handleResize() {
            const photos = document.querySelectorAll('.photo');
            photos.forEach(photo => {
                if (parseFloat(photo.style.left) > window.innerWidth) {
                    photo.style.left = `${Math.random() * window.innerWidth}px`;
                }
            });
        }

        // åˆå§‹åŒ–
        function init() {
            preloadImages();
            createPhotos();
            addClickHandler();
            
            window.addEventListener('resize', handleResize);
            
            // 5ç§’åéšè—è¯´æ˜æ–‡å­—
            setTimeout(() => {
                document.querySelector('.instructions').style.opacity = '0';
            }, 5000);
        }

        // é¡µé¢åŠ è½½å®Œæˆåå¯åŠ¨
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>